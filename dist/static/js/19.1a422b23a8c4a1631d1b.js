webpackJsonp([19],{"4Jtf":function(e,t){},qNfl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),n=a.n(i),l=a("3pLw"),o=(a("mtWM"),a("y6zN")),s={name:"toinfo",created:function(){if(!Object(o.a)("infoflag")){for(var e=[],t=0;t<100;t++)e.push({infoname:"系统"+t,exampart:"国务院"+t,partname:"委员会"+t,fund:100+t,id:Math.ceil((new Date).getTime()*(Math.random()+.5))});Object(o.b)("totalData",e),Object(o.b)("infoflag",!0)}},mounted:function(){},watch:{totalData:{handler:function(e,t){Object(o.b)("totalData",e)},deep:!0}},data:function(){return{form:{region:""},totalData:Object(o.a)("totalData"),pagination:{pageSizes:[5,10,15,20],pageSize:10,display:"total, sizes, prev, pager, next, jumper",currentPage:1},editDialog:{},editingId:null,EditVisible:!1,addDialog:{partname:null,exampart:null,infoname:null,fund:null,AddVisible:!1},DetailVisible:!1,selectedrows:[],showColumn:{partname:!0,exampart:!0,fund:!0},Addrules:{infoname:[{type:"string",required:!0,message:"必填项呢！",trigger:"blur"}],partname:[{type:"string",required:!0,message:"必填项呢！",trigger:"blur"}],exampart:[{type:"string",required:!0,message:"必填项呢！",trigger:"blur"}],fund:[{required:!0,message:"必填项呢！",trigger:"blur"}]},downloadLoading:!1}},computed:{totalCount:function(){return this.totalData.length},tableData:function(){this.totalData;var e=this.pagination.pageSize,t=this.pagination.currentPage;return this.totalData.slice((t-1)*e,e*t)},candel:function(){return!this.selectedrows.length}},methods:{handleEdit:function(e,t){this.EditVisible=!this.EditVisible,this.editDialog=JSON.parse(n()(t)),this.editingId=t.id},SaveEdit:function(e){var t=this;this.totalData.forEach(function(a){a.id===t.editingId&&(a.infoname=e.infoname,a.exampart=e.exampart,a.partname=e.partname,a.fund=e.fund)}),this.$message("修改成功！提交的数据ID为"+this.editingId),this.EditVisible=!1},CheckDetail:function(e,t){this.editDialog=JSON.parse(n()(t)),this.DetailVisible=!this.DetailVisible},Addsys:function(){this.addDialog.AddVisible=!0},SaveAdd:function(){var e=this;this.$refs.Addform.validate(function(t){if(t){e.addDialog.id=Math.ceil((new Date).getTime()*(Math.random()+.5));var a=JSON.parse(n()(e.addDialog));totalData.unshift(a),e.$message({type:"success",message:"添加成功！"}),e.resetForm("Addform"),e.addDialog.AddVisible=!1}else e.$message({type:"warning",message:"添加失败"})})},resetForm:function(e){this.$refs[e].resetFields()},CancelAction:function(){this.EditVisible=!1,this.DetailVisible=!1},CancelAdd:function(){this.addDialog.AddVisible=!1,this.$refs.Addform.resetFields()},handleDelete:function(e,t){this.delete(t)},handleSizeChange:function(e){this.pagination.pageSize=e},handleCurrentChange:function(e){this.pagination.currentPage=e},delete:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.totalData.splice(t.totalData.indexOf(e),1),t.$message({type:"success",message:"删除成功!"})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},SelectionChange:function(e){this.selectedrows=e},delrows:function(){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.selectedrows.forEach(function(t){e.totalData.splice(e.totalData.indexOf(t),1)}),e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleDownload:function(){var e=this;this.downloadLoading=!0,a.e(28).then(a.bind(null,"zWO4")).then(function(t){var a=e.tableData,i=e.formatJson(["id","partname","exampart","fund"],a);t.export_json_to_excel(["Id","系统名称","部门名称","审批部门","金额"],i,"excel"),e.downloadLoading=!1})},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return t[e]})})},getdb:function(){l.a.post("/api/sysinfo",{sysinfo:"xiaolin",partname:"国务院",exampart:"委员会",fund:999}).then(function(e){console.log(e.data)}).catch(function(e){console.log(e)})}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"toinfo"},[a("div",{staticClass:"control"},[a("el-form",{ref:"form",attrs:{"status-icon":!0,model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"添加筛选"}},[a("el-select",{attrs:{placeholder:"请选择筛选项"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),e._v(" "),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1)],1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-circle-plus"},nativeOn:{click:function(t){e.Addsys(t)}}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{loading:e.downloadLoading,type:"primary",icon:"el-icon-share"},nativeOn:{click:function(t){e.handleDownload(t)}}},[e._v("导出")]),e._v(" "),a("el-button",{attrs:{type:"danger",disabled:e.candel,icon:"el-icon-delete"},nativeOn:{click:function(t){e.delrows(t)}}},[e._v("批量删除")]),e._v(" "),a("el-popover",{ref:"popover2",attrs:{placement:"bottom",title:"条件",trigger:"click",content:""}},[a("br"),e._v(" "),a("el-checkbox",{attrs:{size:"middle"},model:{value:e.showColumn.partname,callback:function(t){e.$set(e.showColumn,"partname",t)},expression:"showColumn.partname"}},[e._v("部门名称")]),a("br"),a("br"),e._v(" "),a("el-checkbox",{attrs:{size:"middle"},model:{value:e.showColumn.exampart,callback:function(t){e.$set(e.showColumn,"exampart",t)},expression:"showColumn.exampart"}},[e._v("审批部门")]),a("br"),a("br"),e._v(" "),a("el-checkbox",{attrs:{size:"middle"},model:{value:e.showColumn.fund,callback:function(t){e.$set(e.showColumn,"fund",t)},expression:"showColumn.fund"}},[e._v("指标金额")]),a("br")],1),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popover2",arg:"popover2"}],staticClass:"filter",attrs:{type:"primary",size:"middle"}},[e._v("条目选择")])],1),e._v(" "),a("el-dialog",{attrs:{title:"新增信息","close-on-click-modal":!1,"close-on-press-escape":!1,"modal-append-to-body":!1,visible:e.addDialog.AddVisible},on:{"update:visible":function(t){e.$set(e.addDialog,"AddVisible",t)}}},[a("el-form",{ref:"Addform",attrs:{"status-icon":!0,rules:e.Addrules,model:e.addDialog,"label-width":""}},[a("el-form-item",{attrs:{prop:"infoname",label:"系统名称"}},[a("el-input",{model:{value:e.addDialog.infoname,callback:function(t){e.$set(e.addDialog,"infoname",t)},expression:"addDialog.infoname"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"partname",label:"部门名称"}},[a("el-input",{model:{value:e.addDialog.partname,callback:function(t){e.$set(e.addDialog,"partname",t)},expression:"addDialog.partname"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"exampart",label:"审批部门"}},[a("el-input",{model:{value:e.addDialog.exampart,callback:function(t){e.$set(e.addDialog,"exampart",t)},expression:"addDialog.exampart"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"fund",label:"指标金额"}},[a("el-input",{model:{value:e.addDialog.fund,callback:function(t){e.$set(e.addDialog,"fund",t)},expression:"addDialog.fund"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.CancelAdd}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.resetForm("Addform")}}},[e._v("重 置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.SaveAdd}},[e._v("确 定")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:!0,border:!0,"highlight-current-row":!0,"default-sort":{prop:"fund",order:"increasing"}},on:{"selection-change":e.SelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"系统名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"fa fa-cogs"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.infoname))])]}}])}),e._v(" "),e.showColumn.partname?a("el-table-column",{attrs:{label:"部门名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"fa fa-bank"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.partname))])]}}])}):e._e(),e._v(" "),e.showColumn.exampart?a("el-table-column",{attrs:{label:"审批部门"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"fa fa-cogs"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.exampart))])]}}])}):e._e(),e._v(" "),e.showColumn.fund?a("el-table-column",{attrs:{label:"指标金额",prop:"fund",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"fa fa-cny"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.fund))])]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{width:"280",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[a("i",{staticClass:"fa fa-pencil"}),a("span",[e._v("编辑")])]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(a){e.CheckDetail(t.$index,t.row)}}},[a("i",{staticClass:"fa fa-question-circle"}),a("span",[e._v("详情")])]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[a("span",[a("i",{staticClass:"fa fa-trash"}),e._v("删除")])])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑信息","status-icon":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,"modal-append-to-body":!1,visible:e.EditVisible},on:{"update:visible":function(t){e.EditVisible=t}}},[a("el-form",{ref:"Editform",attrs:{model:e.editDialog,"label-width":""}},[a("el-form-item",{attrs:{label:"系统名称"}},[a("el-input",{model:{value:e.editDialog.infoname,callback:function(t){e.$set(e.editDialog,"infoname",t)},expression:"editDialog.infoname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"部门名称"}},[a("el-input",{model:{value:e.editDialog.partname,callback:function(t){e.$set(e.editDialog,"partname",t)},expression:"editDialog.partname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审批部门"}},[a("el-input",{model:{value:e.editDialog.exampart,callback:function(t){e.$set(e.editDialog,"exampart",t)},expression:"editDialog.exampart"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"指标金额"}},[a("el-input",{model:{value:e.editDialog.fund,callback:function(t){e.$set(e.editDialog,"fund",t)},expression:"editDialog.fund"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.CancelAction}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.SaveEdit(e.editDialog)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"详细信息","close-on-click-modal":!1,"close-on-press-escape":!1,"modal-append-to-body":!1,visible:e.DetailVisible},on:{"update:visible":function(t){e.DetailVisible=t}}},[a("el-form",{ref:"Detailform",attrs:{model:e.editDialog,"label-width":""}},[a("el-form-item",{attrs:{label:"系统ID"}},[a("el-input",{model:{value:e.editDialog.id,callback:function(t){e.$set(e.editDialog,"id",t)},expression:"editDialog.id"}})],1),e._v(" "),a("el-form-item",{attrs:{disabled:"",label:"系统名称"}},[a("el-input",{model:{value:e.editDialog.infoname,callback:function(t){e.$set(e.editDialog,"infoname",t)},expression:"editDialog.infoname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"部门名称"}},[a("el-input",{model:{value:e.editDialog.partname,callback:function(t){e.$set(e.editDialog,"partname",t)},expression:"editDialog.partname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审批部门"}},[a("el-input",{model:{value:e.editDialog.exampart,callback:function(t){e.$set(e.editDialog,"exampart",t)},expression:"editDialog.exampart"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"指标金额"}},[a("el-input",{model:{value:e.editDialog.fund,callback:function(t){e.$set(e.editDialog,"fund",t)},expression:"editDialog.fund"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.CancelAction}},[e._v("确 定")])],1)],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":e.pagination.pageSizes,"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var d=a("VU/8")(s,r,!1,function(e){a("4Jtf")},null,null);t.default=d.exports}});
//# sourceMappingURL=19.1a422b23a8c4a1631d1b.js.map